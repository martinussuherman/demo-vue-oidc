var t=Object.assign;import{C as e,V as i,a as n,b as s,c as o,d as r,e as a,f as c,g as l,h as u,i as d,j as v,k as h,l as p,m,n as f,o as g,p as _,q as w,v as y,r as b,P as x,s as C,t as k,u as O,w as S,x as j,y as E}from"./vendor.0c84e8bc.js";var V=Object.defineProperty,$=Object.getOwnPropertyDescriptor;let I=class extends w{constructor(){super(...arguments),this.drawerState=!1,this.isAuthenticated=!1,this.userEmail=""}signOut(){this.signOutOidc().then((()=>{this.$router.push("/")}))}toggleDrawer(){this.drawerState=!this.drawerState}userLoaded(t){var e,i,n;this.isAuthenticated=null!==t.detail&&!(null==(e=t.detail)?void 0:e.expired),this.userEmail=null!=(n=null==(i=t.detail)?void 0:i.profile.email)?n:"";const s=new Date;window.console.log(`Authenticated: ${this.isAuthenticated} - email: ${this.userEmail} at ${s}`)}mounted(){window.addEventListener("vuexoidc:userLoaded",this.userLoaded)}};I=((t,e,i,n)=>{for(var s,o=n>1?void 0:n?$(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&V(e,i,o),o})([e({components:{VApp:i,VAppBar:n,VAppBarNavIcon:s,VMain:o,VIcon:r,VImg:a,VSpacer:c,VBtn:l,VNavigationDrawer:u,VList:d,VListItemGroup:v,VListItem:h,VListItemTitle:p,VListItemIcon:m,VSwitch:f},computed:t({},g("oidcStore",{})),methods:t({},_("oidcStore",{authenticateOidcPopup:"authenticateOidcPopup",removeOidcUser:"removeOidcUser",signOutOidc:"signOutOidc"}))})],I);function P(t,e,i,n,s,o,r,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):s&&(c=a?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}const D={};var L=P(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[i("v-app-bar-nav-icon",{on:{click:t.toggleDrawer}}),t._v(" "),i("div",{staticClass:"d-flex align-center"},[i("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),t._v(" "),i("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank",text:""}},[i("span",{staticClass:"mr-2"},[t._v("Latest Release")]),t._v(" "),i("v-icon",[t._v("mdi-open-in-new")])],1)],1),t._v(" "),i("v-main",[i("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}},[i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item-group",[i("v-list-item",{attrs:{to:"/"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-home")])],1),t._v(" "),i("v-list-item-title",[t._v("Home")])],1),t._v(" "),i("v-list-item",{attrs:{to:"/about"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-book")])],1),t._v(" "),i("v-list-item-title",[t._v("About (Protected Page)")])],1),t._v(" "),t.isAuthenticated?i("v-list-item",{on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "),i("v-list-item-title",[t._v("Sign out - "+t._s(t.userEmail))])],1):t._e(),t._v(" "),i("v-list-item",[i("v-switch",{attrs:{label:"Light/Dark"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1),t._v(" "),i("router-view")],1)],1)}),[],!1,(function(t){for(let e in D)this[e]=D[e]}),null,null,null).exports;const R={namespaced:!0,dispatchEventsOnWindow:!0},A={userLoaded:t=>window.console.log("OIDC user is loaded:",t),userUnloaded:()=>window.console.log("OIDC user is unloaded"),accessTokenExpiring:()=>window.console.log("Access token will expire"),accessTokenExpired:()=>window.console.log("Access token did expire"),silentRenewError:()=>window.console.log("OIDC user is unloaded"),userSignedOut:()=>window.console.log("OIDC user is signed out"),oidcError:t=>window.console.log("OIDC error",t),automaticSilentRenewError:t=>window.console.log("OIDC automaticSilentRenewError",t)};async function T(){return y(await async function(){const t=await fetch("./oidc.json"),e=await t.json(),i={authority:e.authority,clientId:e.clientId,responseType:e.responseType,scope:e.scope,redirectUri:e.redirectUri,popupRedirectUri:e.popupRedirectUri,automaticSilentRenew:e.automaticSilentRenew,automaticSilentSignin:e.automaticSilentSignin,silentRedirectUri:e.silentRedirectUri,postLogoutRedirectUri:e.postLogoutRedirectUri};return window.console.log(i),i}(),R,A)}async function U(){w.use(b);return new b.Store({state:{},mutations:{},actions:{},modules:{oidcStore:await T()}})}var N=Object.defineProperty,W=Object.getOwnPropertyDescriptor,q=(t,e,i,n)=>{for(var s,o=n>1?void 0:n?W(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&N(e,i,o),o};let H=class extends w{constructor(){super(...arguments),this.ecosystem=[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],this.importantLinks=[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],this.whatsNext=[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}};q([x()],H.prototype,"msg",2),H=q([e({components:{VContainer:C,VRow:k,VCol:O,VImg:a}})],H);const B={};var F=P(H,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"text-center"},[i("v-col",{attrs:{cols:"12"}},[i("v-img",{staticClass:"my-3",attrs:{src:"/demo-vue-oidc/assets/logo.756d19f4.svg",contain:"",height:"200"}})],1),t._v(" "),i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n        "+t._s(t.msg)+"\n      ")]),t._v(" "),i("p",{staticClass:"subheading font-weight-regular"},[t._v("\n        For help and collaboration with other Vuetify developers,\n        "),i("br"),t._v("please join our online\n        "),i("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("\n          Discord Community\n        ")])])]),t._v(" "),i("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),t._v(" "),i("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,n){return i("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),t._v(" "),i("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),t._v(" "),i("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,n){return i("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),t._v(" "),i("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),t._v(" "),i("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,n){return i("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1)],1)],1)}),[],!1,(function(t){for(let e in B)this[e]=B[e]}),null,null,null).exports,M=Object.defineProperty,X=Object.getOwnPropertyDescriptor;let G=class extends w{};G=((t,e,i,n)=>{for(var s,o=n>1?void 0:n?X(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&M(e,i,o),o})([e({components:{HelloWorld:F}})],G);const Q={};var Y=P(G,(function(){var t=this.$createElement;return(this._self._c||t)("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js + Vuetify + TypeScript App"}})}),[],!1,(function(t){for(let e in Q)this[e]=Q[e]}),null,null,null).exports;const z={};var J=P({},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("h1",[t._v("This is an about page")])])}],!1,(function(t){for(let e in z)this[e]=z[e]}),null,null,null).exports,K=Object.defineProperty,Z=Object.getOwnPropertyDescriptor;let tt=class extends w{mounted(){this.oidcSignInCallback().then((t=>{this.$router.push(t)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};tt=((t,e,i,n)=>{for(var s,o=n>1?void 0:n?Z(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&K(e,i,o),o})([e({methods:t({},_("oidcStore",{oidcSignInCallback:"oidcSignInCallback"}))})],tt);const et={};var it=P(tt,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,(function(t){for(let e in et)this[e]=et[e]}),null,null,null).exports,nt=Object.defineProperty,st=Object.getOwnPropertyDescriptor;let ot=class extends w{mounted(){this.oidcSignInPopupCallback().then((t=>{console.log(null==t?void 0:t.profile.name)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};ot=((t,e,i,n)=>{for(var s,o=n>1?void 0:n?st(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&nt(e,i,o),o})([e({methods:t({},_("oidcStore",{oidcSignInPopupCallback:"oidcSignInPopupCallback"}))})],ot);const rt={};var at=P(ot,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,(function(t){for(let e in rt)this[e]=rt[e]}),null,null,null).exports,ct=Object.defineProperty,lt=Object.getOwnPropertyDescriptor;let ut=class extends w{};ut=((t,e,i,n)=>{for(var s,o=n>1?void 0:n?lt(e,i):e,r=t.length-1;r>=0;r--)(s=t[r])&&(o=(n?s(e,i,o):s(o))||o);return n&&o&&ct(e,i,o),o})([e],ut);const dt={};var vt=P(ut,(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Error in authentication")])])}],!1,(function(t){for(let e in dt)this[e]=dt[e]}),null,null,null).exports;async function ht(){w.use(S);const t=new S({mode:"history",base:"/demo-vue-oidc/",routes:[{path:"/",name:"Home",component:Y,meta:{isPublic:!0}},{path:"/about",name:"About",component:J},{path:"/oidc-callback",name:"OidcCallback",component:it,meta:{isOidcCallback:!0}},{path:"/oidc-popup-callback",name:"oidcPopupCallback",component:at,meta:{isOidcCallback:!0}},{path:"/oidc-callback-error",name:"oidcCallbackError",component:vt,meta:{isPublic:!0}}]});return t.beforeEach(await async function(){return j(await U(),"oidcStore")}()),t}w.use(E);var pt=new E({});!async function(){w.config.productionTip=!1;const t=await U(),e=await ht();new w({router:e,store:t,vuetify:pt,render:t=>t(L)}).$mount("#app")}();
