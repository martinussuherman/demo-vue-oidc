var t=Object.defineProperty,e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,o=(t,o)=>{for(var i in o||(o={}))r.call(o,i)&&s(t,i,o[i]);if(e)for(var i of e(o))n.call(o,i)&&s(t,i,o[i]);return t},i=(t,e,r)=>(s(t,"symbol"!=typeof e?e+"":e,r),r);import{C as a,m as c,a as l,V as u,_ as d,b as h,c as p,d as f,e as m,f as v,g,h as y,i as b,j as w,k as _,l as O,n as x,o as C,p as k,v as j,q as S,P as E,r as P,s as $,t as I,u as D,w as R,x as U}from"./vendor.0f2fe268.js";var L=Object.defineProperty,V=Object.getOwnPropertyDescriptor;let A=class extends u{constructor(){super(...arguments),i(this,"drawerState",!1),i(this,"isAuthenticated",!1),i(this,"userEmail",""),i(this,"authenticateOidcPopup"),i(this,"signOutOidc"),i(this,"removeOidcUser")}signOut(){this.signOutOidc().then((()=>{this.$router.push("/")}))}toggleDrawer(){this.drawerState=!this.drawerState}userLoaded(t){var e,r,n;this.isAuthenticated=null!==t.detail&&!(null==(e=t.detail)?void 0:e.expired),this.userEmail=null!=(n=null==(r=t.detail)?void 0:r.profile.email)?n:"";const s=new Date;window.console.log(`Authenticated: ${this.isAuthenticated} - email: ${this.userEmail} at ${s}`)}mounted(){window.addEventListener("vuexoidc:userLoaded",this.userLoaded)}};function T(t,e,r,n,s,o,i,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):s&&(c=a?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}A=((t,e,r,n)=>{for(var s,o=n>1?void 0:n?V(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&L(e,r,o),o})([a({computed:o({},c("oidcStore",{})),methods:o({},l("oidcStore",{authenticateOidcPopup:"authenticateOidcPopup",removeOidcUser:"removeOidcUser",signOutOidc:"signOutOidc"}))})],A);const N={};var q=T(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(d,[r(h,{attrs:{app:"",color:"primary",dark:""}},[r(p,{on:{click:t.toggleDrawer}}),r("div",{staticClass:"d-flex align-center"},[r(f,{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),r(f,{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),r(m),r(v,{attrs:{href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank",text:""}},[r("span",{staticClass:"mr-2"},[t._v("Latest Release")]),r(g,[t._v("mdi-open-in-new")])],1)],1),r(y,[r(b,{attrs:{fixed:"",temporary:""},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}},[r(w,{attrs:{nav:"",dense:""}},[r(_,[r(O,{attrs:{to:"/"}},[r(x,[r(g,[t._v("mdi-home")])],1),r(C,[t._v("Home")])],1),r(O,{attrs:{to:"/about"}},[r(x,[r(g,[t._v("mdi-book")])],1),r(C,[t._v("About (Protected Page)")])],1),t.isAuthenticated?r(O,{on:{click:function(e){return e.preventDefault(),t.signOut.apply(null,arguments)}}},[r(x,[r(g,[t._v("mdi-account-circle")])],1),r(C,[t._v("Sign out - "+t._s(t.userEmail))])],1):t._e(),r(O,[r(k,{attrs:{label:"Light/Dark"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1),r("router-view")],1)],1)}),[],!1,F,null,null,null);function F(t){for(let e in N)this[e]=N[e]}var W=function(){return q.exports}();const H={namespaced:!0,dispatchEventsOnWindow:!0},X={userLoaded:t=>window.console.log("OIDC user is loaded:",t),userUnloaded:()=>window.console.log("OIDC user is unloaded"),accessTokenExpiring:()=>window.console.log("Access token will expire"),accessTokenExpired:()=>window.console.log("Access token did expire"),silentRenewError:()=>window.console.log("OIDC user is unloaded"),userSignedOut:()=>window.console.log("OIDC user is signed out"),oidcError:t=>window.console.log("OIDC error",t),automaticSilentRenewError:t=>window.console.log("OIDC automaticSilentRenewError",t)};async function M(){return j(await async function(){const t=await fetch("./oidc.json"),e=await t.json(),r={authority:e.authority,clientId:e.clientId,responseType:e.responseType,scope:e.scope,redirectUri:e.redirectUri,popupRedirectUri:e.popupRedirectUri,automaticSilentRenew:e.automaticSilentRenew,automaticSilentSignin:e.automaticSilentSignin,silentRedirectUri:e.silentRedirectUri,postLogoutRedirectUri:e.postLogoutRedirectUri};return window.console.log(r),r}(),H,X)}async function Q(){u.use(S);return new S.Store({state:{},mutations:{},actions:{},modules:{oidcStore:await M()}})}var Y=Object.defineProperty,z=Object.getOwnPropertyDescriptor;let B=class extends u{};B=((t,e,r,n)=>{for(var s,o=n>1?void 0:n?z(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&Y(e,r,o),o})([a],B);var G=Object.defineProperty,J=Object.getOwnPropertyDescriptor,K=(t,e,r,n)=>{for(var s,o=n>1?void 0:n?J(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&G(e,r,o),o};let Z=class extends u{constructor(){super(...arguments),i(this,"msg"),i(this,"ecosystem",[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}]),i(this,"importantLinks",[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}]),i(this,"whatsNext",[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}])}};K([E()],Z.prototype,"msg",2),Z=K([a({components:{VContainer:P,VRow:$,VCol:I,VImg:f}})],Z);const tt={};var et=T(Z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(P,[r($,{staticClass:"text-center"},[r(I,{attrs:{cols:"12"}},[r(f,{staticClass:"my-3",attrs:{src:"/demo-vue-oidc/assets/logo.756d19f4.svg",contain:"",height:"200"}})],1),r(I,{staticClass:"mb-4"},[r("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" "+t._s(t.msg)+" ")]),r("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),r("br"),t._v("please join our online "),r("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v(" Discord Community ")])])]),r(I,{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),r($,{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,n){return r("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),r(I,{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),r($,{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,n){return r("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),r(I,{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),r($,{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,n){return r("a",{key:n,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)}),[],!1,rt,null,null,null);function rt(t){for(let e in tt)this[e]=tt[e]}var nt=function(){return et.exports}();const st={};var ot=T(B,(function(){var t=this.$createElement;return(this._self._c||t)(nt,{attrs:{msg:"Welcome to Your Vue.js + Vuetify + TypeScript App"}})}),[],!1,it,null,null,null);function it(t){for(let e in st)this[e]=st[e]}var at=function(){return ot.exports}();const ct={};var lt=T({},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v("This is an about page")])])}],!1,ut,null,null,null);function ut(t){for(let e in ct)this[e]=ct[e]}var dt=function(){return lt.exports}(),ht=Object.defineProperty,pt=Object.getOwnPropertyDescriptor;let ft=class extends u{constructor(){super(...arguments),i(this,"oidcSignInCallback")}mounted(){this.oidcSignInCallback().then((t=>{this.$router.push(t)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};ft=((t,e,r,n)=>{for(var s,o=n>1?void 0:n?pt(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&ht(e,r,o),o})([a({methods:o({},l("oidcStore",{oidcSignInCallback:"oidcSignInCallback"}))})],ft);const mt={};var vt=T(ft,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,gt,null,null,null);function gt(t){for(let e in mt)this[e]=mt[e]}var yt=function(){return vt.exports}(),bt=Object.defineProperty,wt=Object.getOwnPropertyDescriptor;let _t=class extends u{constructor(){super(...arguments),i(this,"oidcSignInPopupCallback")}mounted(){this.oidcSignInPopupCallback().then((t=>{console.log(null==t?void 0:t.profile.name)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};_t=((t,e,r,n)=>{for(var s,o=n>1?void 0:n?wt(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&bt(e,r,o),o})([a({methods:o({},l("oidcStore",{oidcSignInPopupCallback:"oidcSignInPopupCallback"}))})],_t);const Ot={};var xt=T(_t,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,Ct,null,null,null);function Ct(t){for(let e in Ot)this[e]=Ot[e]}var kt=function(){return xt.exports}(),jt=Object.defineProperty,St=Object.getOwnPropertyDescriptor;let Et=class extends u{};Et=((t,e,r,n)=>{for(var s,o=n>1?void 0:n?St(e,r):e,i=t.length-1;i>=0;i--)(s=t[i])&&(o=(n?s(e,r,o):s(o))||o);return n&&o&&jt(e,r,o),o})([a],Et);const Pt={};var $t=T(Et,(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Error in authentication")])])}],!1,It,null,null,null);function It(t){for(let e in Pt)this[e]=Pt[e]}var Dt=function(){return $t.exports}();async function Rt(){u.use(D);const t=new D({mode:"history",base:"/demo-vue-oidc/",routes:[{path:"/",name:"Home",component:at,meta:{isPublic:!0}},{path:"/about",name:"About",component:dt},{path:"/oidc-callback",name:"OidcCallback",component:yt,meta:{isOidcCallback:!0}},{path:"/oidc-popup-callback",name:"oidcPopupCallback",component:kt,meta:{isOidcCallback:!0}},{path:"/oidc-callback-error",name:"oidcCallbackError",component:Dt,meta:{isPublic:!0}}]});return t.beforeEach(await async function(){return R(await Q(),"oidcStore")}()),t}u.use(U);var Ut=new U({});!async function(){u.config.productionTip=!1;const t=await Q(),e=await Rt();new u({router:e,store:t,vuetify:Ut,render:t=>t(W)}).$mount("#app")}();
