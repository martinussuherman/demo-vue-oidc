var t=Object.assign;import{C as e,V as o,a as i,b as n,c as s,d as r,e as a,f as c,g as l,h as u,i as d,j as p,k as v,l as m,m as h,n as f,o as g,p as _,q as w,v as y,r as b,P as x,s as C,t as k,u as O,w as j,x as E,y as S}from"./vendor.41c7b8fe.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(o){const i=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((o,s)=>{const r=new URL(t,i);if(self[e].moduleMap[r])return o(self[e].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){s(new Error(`Failed to import: ${t}`)),n(c)},onload(){o(self[e].moduleMap[r]),n(c)}});document.head.appendChild(c)})),self[e].moduleMap={}}}("/demo-vue-oidc/assets/");var $=Object.defineProperty,V=Object.getOwnPropertyDescriptor;let I=class extends w{constructor(){super(...arguments),this.drawer=!1,this.isAuthenticated=!1,this.userEmail=""}signOut(){this.signOutOidc().then((()=>{this.$router.push("/")}))}toggleDrawer(){this.drawer=!this.drawer}userLoaded(t){var e,o,i;this.isAuthenticated=null!==t.detail&&!(null==(e=t.detail)?void 0:e.expired),this.userEmail=null!=(i=null==(o=t.detail)?void 0:o.profile.email)?i:"",window.console.log(`Authenticated: ${this.isAuthenticated} - email: ${this.userEmail}`)}mounted(){window.addEventListener("vuexoidc:userLoaded",this.userLoaded)}};I=((t,e,o,i)=>{for(var n,s=i>1?void 0:i?V(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&$(e,o,s),s})([e({components:{VApp:o,VAppBar:i,VAppBarNavIcon:n,VMain:s,VIcon:r,VImg:a,VSpacer:c,VBtn:l,VNavigationDrawer:u,VList:d,VListItemGroup:p,VListItem:v,VListItemTitle:m,VListItemIcon:h,VSwitch:f},computed:t({},g("oidcStore",{})),methods:t({},_("oidcStore",{authenticateOidcPopup:"authenticateOidcPopup",removeOidcUser:"removeOidcUser",signOutOidc:"signOutOidc"}))})],I);function L(t,e,o,i,n,s,r,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=o,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}const P={};var R=L(I,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[o("v-app-bar-nav-icon",{on:{click:t.toggleDrawer}}),t._v(" "),o("div",{staticClass:"d-flex align-center"},[o("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),t._v(" "),o("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank",text:""}},[o("span",{staticClass:"mr-2"},[t._v("Latest Release")]),t._v(" "),o("v-icon",[t._v("mdi-open-in-new")])],1)],1),t._v(" "),o("v-main",[o("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list",{attrs:{nav:"",dense:""}},[o("v-list-item-group",[o("v-list-item",{attrs:{to:"/"}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-home")])],1),t._v(" "),o("v-list-item-title",[t._v("Home")])],1),t._v(" "),o("v-list-item",{attrs:{to:"/about"}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-book")])],1),t._v(" "),o("v-list-item-title",[t._v("About (Protected Page)")])],1),t._v(" "),t.isAuthenticated?o("v-list-item",{on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "),o("v-list-item-title",[t._v("Sign out - "+t._s(t.userEmail))])],1):t._e(),t._v(" "),o("v-list-item",[o("v-switch",{attrs:{label:"Light/Dark"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1),t._v(" "),o("router-view")],1)],1)}),[],!1,(function(t){for(let e in P)this[e]=P[e]}),null,null,null).exports;const D={namespaced:!0,dispatchEventsOnWindow:!0},U={userLoaded:t=>window.console.log("OIDC user is loaded:",t),userUnloaded:()=>window.console.log("OIDC user is unloaded"),accessTokenExpiring:()=>window.console.log("Access token will expire"),accessTokenExpired:()=>window.console.log("Access token did expire"),silentRenewError:()=>window.console.log("OIDC user is unloaded"),userSignedOut:()=>window.console.log("OIDC user is signed out"),oidcError:t=>window.console.log("OIDC error",t),automaticSilentRenewError:t=>window.console.log("OIDC automaticSilentRenewError",t)};async function A(){return y(await async function(){const t=await fetch("./oidc.json"),e=await t.json(),o={authority:e.authority,clientId:e.clientId,responseType:e.responseType,scope:e.scope,redirectUri:e.redirectUri,popupRedirectUri:e.popupRedirectUri,automaticSilentRenew:e.automaticSilentRenew,automaticSilentSignin:e.automaticSilentSignin,silentRedirectUri:e.silentRedirectUri,postLogoutRedirectUri:e.postLogoutRedirectUri};return window.console.log(o),o}(),D,U)}async function T(){w.use(b);return new b.Store({state:{},mutations:{},actions:{},modules:{oidcStore:await A()}})}var M=Object.defineProperty,N=Object.getOwnPropertyDescriptor,F=(t,e,o,i)=>{for(var n,s=i>1?void 0:i?N(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&M(e,o,s),s};let W=class extends w{constructor(){super(...arguments),this.ecosystem=[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],this.importantLinks=[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],this.whatsNext=[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}};F([x()],W.prototype,"msg",2),W=F([e({components:{VContainer:C,VRow:k,VCol:O,VImg:a}})],W);const q={};var B=L(W,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{staticClass:"text-center"},[o("v-col",{attrs:{cols:"12"}},[o("v-img",{staticClass:"my-3",attrs:{src:"/demo-vue-oidc/assets/logo.756d19f4.svg",contain:"",height:"200"}})],1),t._v(" "),o("v-col",{staticClass:"mb-4"},[o("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n        "+t._s(t.msg)+"\n      ")]),t._v(" "),o("p",{staticClass:"subheading font-weight-regular"},[t._v("\n        For help and collaboration with other Vuetify developers,\n        "),o("br"),t._v("please join our online\n        "),o("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),t._v(" "),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("\n        What's next?\n      ")]),t._v(" "),o("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,i){return o("a",{key:i,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),t._v(" "),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("\n        Important Links\n      ")]),t._v(" "),o("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,i){return o("a",{key:i,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),t._v(" "),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("\n        Ecosystem\n      ")]),t._v(" "),o("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,i){return o("a",{key:i,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1)],1)],1)}),[],!1,(function(t){for(let e in q)this[e]=q[e]}),null,null,null).exports,H=Object.defineProperty,X=Object.getOwnPropertyDescriptor;let G=class extends w{};G=((t,e,o,i)=>{for(var n,s=i>1?void 0:i?X(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&H(e,o,s),s})([e({components:{HelloWorld:B}})],G);const Q={};var Y=L(G,(function(){var t=this.$createElement;return(this._self._c||t)("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js + Vuetify + TypeScript App"}})}),[],!1,(function(t){for(let e in Q)this[e]=Q[e]}),null,null,null).exports;const z={};var J=L({},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"about"},[o("h1",[t._v("This is an about page")])])}],!1,(function(t){for(let e in z)this[e]=z[e]}),null,null,null).exports,K=Object.defineProperty,Z=Object.getOwnPropertyDescriptor;let tt=class extends w{mounted(){this.oidcSignInCallback().then((t=>{this.$router.push(t)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};tt=((t,e,o,i)=>{for(var n,s=i>1?void 0:i?Z(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&K(e,o,s),s})([e({methods:t({},_("oidcStore",{oidcSignInCallback:"oidcSignInCallback"}))})],tt);const et={};var ot=L(tt,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,(function(t){for(let e in et)this[e]=et[e]}),null,null,null).exports,it=Object.defineProperty,nt=Object.getOwnPropertyDescriptor;let st=class extends w{mounted(){this.oidcSignInPopupCallback().then((t=>{console.log(null==t?void 0:t.profile.name)})).catch((t=>{console.error(t),this.$router.push("/oidc-callback-error")}))}};st=((t,e,o,i)=>{for(var n,s=i>1?void 0:i?nt(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&it(e,o,s),s})([e({methods:t({},_("oidcStore",{oidcSignInPopupCallback:"oidcSignInPopupCallback"}))})],st);const rt={};var at=L(st,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,(function(t){for(let e in rt)this[e]=rt[e]}),null,null,null).exports,ct=Object.defineProperty,lt=Object.getOwnPropertyDescriptor;let ut=class extends w{};ut=((t,e,o,i)=>{for(var n,s=i>1?void 0:i?lt(e,o):e,r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i?n(e,o,s):n(s))||s);return i&&s&&ct(e,o,s),s})([e],ut);const dt={};var pt=L(ut,(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Error in authentication")])])}],!1,(function(t){for(let e in dt)this[e]=dt[e]}),null,null,null).exports;async function vt(){w.use(j);const t=new j({mode:"history",base:"/demo-vue-oidc/",routes:[{path:"/",name:"Home",component:Y,meta:{isPublic:!0}},{path:"/about",name:"About",component:J},{path:"/oidc-callback",name:"OidcCallback",component:ot,meta:{isOidcCallback:!0}},{path:"/oidc-popup-callback",name:"oidcPopupCallback",component:at,meta:{isOidcCallback:!0}},{path:"/oidc-callback-error",name:"oidcCallbackError",component:pt,meta:{isPublic:!0}}]});return t.beforeEach(await async function(){return E(await T(),"oidcStore")}()),t}w.use(S);var mt=new S({});!async function(){w.config.productionTip=!1;const t=await T(),e=await vt();new w({router:e,store:t,vuetify:mt,render:t=>t(R)}).$mount("#app")}();
